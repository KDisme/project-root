
<%- include('../layout') %>
<div class="container mt-4" style="max-width: 500px;">
	<h3 class="mb-4"><%= typeof product !== 'undefined' ? 'Sửa sản phẩm' : 'Thêm sản phẩm' %></h3>
	<% if (typeof error !== 'undefined') { %>
		<div class="alert alert-danger"><%= error %></div>
	<% } %>
	<form method="post" action="<%= product && product._id ? ('/products/' + product._id + '/edit') : '/products/create' %>">
		<div class="mb-3">
			<label class="form-label">Tên sản phẩm</label>
			<input type="text" name="name" class="form-control" required value="<%= product ? product.name : '' %>">
		</div>
		<div class="mb-3">
			<label class="form-label">Giá</label>
			<input type="number" name="price" class="form-control" required value="<%= product ? product.price : '' %>">
		</div>
		<div class="mb-3">
			<label class="form-label">Số lượng</label>
			<input type="number" name="quantity" class="form-control" required value="<%= product ? product.quantity : '' %>">
		</div>
		<div class="mb-3">
			<label class="form-label">Nhà cung cấp</label>
			<select name="supplier" class="form-select" required>
				<option value="">-- Chọn nhà cung cấp --</option>
				<% suppliers.forEach(s => { %>
					<option value="<%= s._id %>" <%= product && product.supplier == s._id ? 'selected' : '' %>><%= s.name %></option>
				<% }) %>
			</select>
		</div>
		<button type="submit" class="btn btn-primary w-100"><%= typeof product !== 'undefined' ? 'Cập nhật' : 'Thêm mới' %></button>
		<div class="mt-3 text-center">
			<a href="/products">Quay lại danh sách</a>
		</div>
	</form>
</div>

