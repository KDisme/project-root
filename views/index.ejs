
<%- include('layout') %>
<div class="container mt-4">
	<h2 class="mb-4">Danh sách sản phẩm</h2>
	<form class="row mb-3" method="get" action="/">
		<div class="col-md-4">
			<select name="supplier" class="form-select">
				<option value="">-- Chọn nhà cung cấp --</option>
				<% suppliers.forEach(s => { %>
					<option value="<%= s._id %>" <%= selectedSupplier == s._id ? 'selected' : '' %>><%= s.name %></option>
				<% }) %>
			</select>
		</div>
		<div class="col-md-4">
			<input type="text" name="search" class="form-control" placeholder="Tìm sản phẩm theo tên" value="<%= search || '' %>">
		</div>
		<div class="col-md-2">
			<button type="submit" class="btn btn-primary">Lọc</button>
		</div>
	</form>
	<table class="table table-bordered table-hover">
		<thead class="table-light">
			<tr>
				<th>Tên sản phẩm</th>
				<th>Giá</th>
				<th>Số lượng</th>
				<th>Nhà cung cấp</th>
			</tr>
		</thead>
		<tbody>
			<% products.forEach(p => { %>
				<tr>
					<td><%= p.name %></td>
					<td><%= p.price %></td>
					<td><%= p.quantity %></td>
					<td><%= p.supplier ? p.supplier.name : '' %></td>
				</tr>
			<% }) %>
		</tbody>
	</table>
</div>

